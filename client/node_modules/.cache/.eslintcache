[{"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/index.js":"1","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/App/App.js":"2","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/saving.js":"3","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/display.js":"4","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/keyComms.js":"5","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/util.js":"6","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/edit.js":"7","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/StatusBar/StatusBar.js":"8","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/Frame/Frame.js":"9","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/Task/Task.js":"10","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/List/List.js":"11","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/TaskList/TaskList.js":"12","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/SignIn/SignIn.js":"13","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/server.js":"14"},{"size":12332,"mtime":1645262507852,"results":"15","hashOfConfig":"16"},{"size":5921,"mtime":1645259543706,"results":"17","hashOfConfig":"16"},{"size":2393,"mtime":1645262970248,"results":"18","hashOfConfig":"16"},{"size":5590,"mtime":1645260337322,"results":"19","hashOfConfig":"16"},{"size":4526,"mtime":1645259566786,"results":"20","hashOfConfig":"16"},{"size":948,"mtime":1645206126669,"results":"21","hashOfConfig":"16"},{"size":8307,"mtime":1645261085435,"results":"22","hashOfConfig":"16"},{"size":16895,"mtime":1645262650146,"results":"23","hashOfConfig":"16"},{"size":5550,"mtime":1645205835016,"results":"24","hashOfConfig":"16"},{"size":29837,"mtime":1645262177262,"results":"25","hashOfConfig":"16"},{"size":7846,"mtime":1645262177262,"results":"26","hashOfConfig":"16"},{"size":1171,"mtime":1645205835033,"results":"27","hashOfConfig":"16"},{"size":3946,"mtime":1645262177205,"results":"28","hashOfConfig":"16"},{"size":968,"mtime":1645263617337,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1euks6e",{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"42"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/index.js",["60"],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/App/App.js",[],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/saving.js",["61"],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/display.js",[],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/keyComms.js",[],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/util.js",[],["62","63"],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/edit.js",[],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/StatusBar/StatusBar.js",["64"],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/Frame/Frame.js",["65"],"import React from 'react';\nimport './Frame.css';\nimport * as display from '../../services/display';\nimport * as util from '../../services/util';\nimport List from '../List/List';\nimport $ from 'jquery';\n\nexport default class Frame extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      subtasks: props.subtasks, info: props.info,\n      width: display.processWidth(props.info.focused),\n      zoomed: '',\n    };\n    if (props.id === 'river') {\n      this.state.repeats = window.data.settings.repeats;\n      this.state.shownIndex = this.todayIndex();\n    } else if (props.id === 'bank') {\n      this.state.shownIndex = 0;\n    }\n  }\n\n  // find index of today in shownLists\n  todayIndex = () => {\n    const today = new Date();\n    return this.state.subtasks.findIndex(x => {\n      const now = new Date(window.data.tasks[x].title);\n      return now.getDate() === today.getDate() &&\n        now.getMonth() === today.getMonth() &&\n        now.getFullYear() === today.getFullYear()\n    })\n  }\n\n  // create a new list\n  addList = (id) => {\n    // add a new list\n    var title;\n    if (this.props.id === 'river') {\n      const lastDate = new Date(\n        window.data.tasks[this.state.subtasks[this.state.subtasks.length - 1]].title);\n      lastDate.setDate(lastDate.getDate() + 1);\n      title = lastDate.toDateString();\n    } else {\n      title = '';\n    }\n\n    const subtasks = this.state.subtasks;\n    if (!id) id = String(new Date().getTime());\n    else id = String(id);\n    window.data.tasks[id] = {\n      title: title, subtasks: [], info: {}\n    }\n    subtasks.push(id);\n    this.setState({subtasks: subtasks});\n    setTimeout(() => {\n      this.frames[this.frames.length - 1].current.listInput.current.focus();\n    }, 100);\n  }\n\n  addLists = () => {\n    if (this.props.id === 'river') {\n      const id = new Date().getTime();\n      for (let i = 0; i < 7; i ++) {\n        this.addList(String(id + i));\n      }\n    } else {\n      this.addList();\n    }\n  }\n\n  changeIndex = async (val, set) => {\n    var newIndex;\n    if (set === true) {\n      newIndex = val;\n    } else {\n      newIndex = this.state.info.index + val;\n    }\n    if (!this.frame) return;\n\n    const finish = () => {\n      const children = $(this.frame.current).children();\n      if (children[newIndex]) {\n        children[newIndex].scrollIntoView();\n      }\n    }\n\n    this.setState({\n      info: {...this.state.info, index: newIndex}\n    }, finish);\n  }\n\n  updatePosition = () => {\n    if (this.state.focused === 'focused') return;\n    if (this.props.id !== 'river') return;\n    if (this.scrollPos === undefined) this.scrollPos = \n      Math.floor($(this.frameContainer.current).scrollLeft() / 300) * 300;\n    let position = $(this.frameContainer.current).scrollLeft();\n    if (position < 0) position = 0;\n    if (Math.abs(position - this.scrollPos) > 300) {\n      this.scrollPos = Math.floor(position / 300) * 300;\n      // this.setState({ index: this.state.shownIndex + \n      //   Math.floor(scrollPos / 300) });\n      this.setState({ info: \n        {\n          ...this.state.info, \n          index: this.state.shownIndex + Math.floor(this.scrollPos / 300)\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.updatePosition();\n  }\n\n  render() {\n    var resizeCheck = () => {\n      if (this.state.width !== display.processWidth(this.state.info.focused)) {\n        this.setState({ width: display.processWidth(this.state.info.focused) });\n      }\n    }\n    let endIndex = this.state.info.index + this.state.width;\n    this.frames = [];\n    window.addEventListener('resize', resizeCheck);\n    const shownLists = this.state.subtasks.slice(\n      this.state.shownIndex\n    );\n    this.frame = React.createRef();\n    this.frameContainer = React.createRef();\n    return (\n      <div className={`frameContainer \n        ${this.state.info.focused} ${this.state.zoomed} ${this.props.id}`}\n        onScroll={this.updatePosition} ref={this.frameContainer}>\n        {this.props.id === 'river' &&\n        this.state.info.focused !== 'focused' &&\n        <div className='monthYear'>\n          <span>{\n            window.data.tasks[this.state.subtasks[this.state.info.index]]\n              .title.slice(4, 8)}</span>\n          <span>{\n            window.data.tasks[this.state.subtasks[this.state.info.index]]\n              .title.slice(11)}</span>\n        </div>}\n        <div id={this.props.id}\n          className={'frame'} ref={this.frame}>\n          {shownLists.map(x => {\n            this.frames.push(React.createRef());\n            const task = window.data.tasks[x];\n            if (this.props.id === 'river') {\n              // render state correctly in original lists\n              return (\n                <List key={x} id={x} title={task.title}\n                  subtasks={task.subtasks} parent={this}\n                  deadlines={this.props.deadlines[task.title]}\n                  startdates={this.props.startdates[task.title]}\n                  repeats={this.state.repeats[util.dateFormat(task.title)\n                    .slice(0, 3)]}\n                  ref={this.frames[this.frames.length - 1]} />\n              )\n            } else {\n              return (\n                <List key={x} id={x} title={task.title}\n                  subtasks={task.subtasks} parent={this}\n                  ref={this.frames[this.frames.length - 1]} />\n              )\n            }\n          })}\n          <button className='changeButton' title='add list or date'\n            onClick={() => this.addLists()}>+</button>\n        </div>\n      </div>\n    );\n  }\n}","/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/Task/Task.js",["66"],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/List/List.js",["67","68"],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/TaskList/TaskList.js",[],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/components/SignIn/SignIn.js",["69"],"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/client/src/services/server.js",[],{"ruleId":"70","severity":1,"message":"71","line":316,"column":7,"nodeType":"72","messageId":"73","endLine":316,"endColumn":14},{"ruleId":"74","severity":1,"message":"75","line":77,"column":11,"nodeType":"76","messageId":"77","endLine":77,"endColumn":13},{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":295,"column":11,"nodeType":"84","endLine":295,"endColumn":67},{"ruleId":"70","severity":1,"message":"85","line":123,"column":9,"nodeType":"72","messageId":"73","endLine":123,"endColumn":17},{"ruleId":"74","severity":1,"message":"75","line":353,"column":21,"nodeType":"76","messageId":"77","endLine":353,"endColumn":23},{"ruleId":"86","severity":1,"message":"87","line":70,"column":5,"nodeType":"88","messageId":"89","endLine":109,"endColumn":6},{"ruleId":"70","severity":1,"message":"90","line":152,"column":11,"nodeType":"72","messageId":"73","endLine":152,"endColumn":15},{"ruleId":"91","severity":1,"message":"92","line":90,"column":7,"nodeType":"84","endLine":93,"endColumn":8},"no-unused-vars","'migrate' is assigned a value but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-native-reassign",["93"],"no-negated-in-lhs",["94"],"jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","JSXOpeningElement","'endIndex' is assigned a value but never used.","no-unreachable","Unreachable code.","IfStatement","unreachableCode","'drop' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","no-global-assign","no-unsafe-negation"]