{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _objectSpread from\"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Task.css';import $ from'jquery';import*as display from'../../services/display/display';import*as edit from'../../services/edit/edit';import*as util from'../../services/util/util';import TaskList from'../TaskList/TaskList';import List from'../List/List';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Task=/*#__PURE__*/function(_React$Component){_inherits(Task,_React$Component);var _super=_createSuper(Task);function Task(props){var _this;_classCallCheck(this,Task);_this=_super.call(this);_this.hasRepeats=function(){var repeating=false;for(var _i=0,_Object$keys=Object.keys(window.data.settings.repeats);_i<_Object$keys.length;_i++){var repeat=_Object$keys[_i];if(window.data.settings.repeats[repeat].includes('R'+util.stripR(_this.props.id))){repeating=true;break;}}return repeating;};_this.dateRender=function(type){var info;if(type==='start'){info=_this.state.info.startDate.concat();}else if(type==='end'){info=_this.state.info.endDate.concat();}if(_this.state.info.type==='event'){if(type==='start'){var end;if(info[0]>=12)end='p';else end='a';if(info[0]>12){info[0]-=12;}return info[0]+':'+String(info[1]).padStart(2,0)+end;}else if(type==='end'){var string='';if(info[0]!==0)string+=info[0]+'h';if(info[1]!==0)string+=info[1]+'m';return string;}}else if(_this.state.info.type==='date'){return info[0]+'-'+info[1];}};_this.toggleRepeat=function(dayInput,del){var days;if(dayInput==='all'){days=['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];}else{days=[dayInput];}var repeatId;if(_this.props.id.charAt(0)==='R'){repeatId=_this.props.id;}else{repeatId='R'+_this.props.id;}var repeats=_objectSpread({},window.app.current.state.river.current.state.repeats);var _iterator=_createForOfIteratorHelper(days),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var day=_step.value;if(repeats[day].includes(repeatId)||del===true){if(repeats[day].includes(repeatId)){repeats[day].splice(repeats[day].findIndex(function(x){return x===repeatId;}),1);}}else{repeats[day].push(repeatId);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}window.app.current.state.river.current.setState({repeats:repeats});edit.saveSetting('repeats',repeats);};_this.timeDrag=function(ev,unit,type){var mouseup=function mouseup(){window.removeEventListener('mousemove',changeTime);window.app.current.setState({disableSelect:''});if(unit==='e'||_this.state.info.type==='event'){_this.displayOptions('hide');}else if(unit==='s'){_this.setState({displayOptions:'show'});}_this.freeze=true;setTimeout(function(){return _this.freeze=false;},200);window.removeEventListener('mouseup',mouseup);_this.props.parent.forceUpdate();};window.addEventListener('mouseup',mouseup);var change=10;var pageY=ev.screenY;var updateTime=function updateTime(ev2,value,unit){var val;var date;var infoOrig;var orig2;if(_this.state.info.type==='event'){if(type==='start'){infoOrig=_this.state.info.startDate[1];orig2=_this.state.info.startDate[0];}else if(type==='end'){infoOrig=_this.state.info.endDate[1];orig2=_this.state.info.endDate[0];}if(infoOrig==='--'){infoOrig=0;}if(orig2==='--'){orig2=0;}var _change;if(ev2.shiftKey){_change=value*5;}else{_change=value*30;}val=infoOrig+_change;if(val>=60){val=0;orig2+=1;}else if(val<0){val=60+_change;orig2-=1;}if(orig2>=24||orig2<0){val='--';orig2='--';window.removeEventListener('mousemove',changeTime);}if(type==='start'){_this.setState({info:_objectSpread(_objectSpread({},_this.state.info),{},{startDate:[orig2,val]})});}else if(type==='end'){_this.setState({info:_objectSpread(_objectSpread({},_this.state.info),{},{endDate:[orig2,val]})});}}else{// dates\n_this.updateRiverDate(type,'remove');if(unit==='s'){if(type==='start'){infoOrig=_this.state.info.startDate[0];orig2=_this.state.info.startDate[1];}else if(type==='end'){infoOrig=_this.state.info.endDate[0];orig2=_this.state.info.endDate[1];}if(infoOrig==='--'||Number.isNaN(infoOrig)){infoOrig=new Date().getMonth()+1;}if(orig2==='--'||Number.isNaN(orig2)){orig2=1;}val=infoOrig+value;if(val===new Date().getMonth()&&value<0){val='--';orig2='--';}else{date=new Date();date.setMonth(val-1);val=date.getMonth()+1;}if(type==='start'){_this.setState({info:_objectSpread(_objectSpread({},_this.state.info),{},{startDate:[val,orig2]})});}else if(type==='end'){_this.setState({info:_objectSpread(_objectSpread({},_this.state.info),{},{endDate:[val,orig2]})});}}else if(unit==='e'){if(type==='start'){infoOrig=_this.state.info.startDate[1];orig2=_this.state.info.startDate[0];}else if(type==='end'){infoOrig=_this.state.info.endDate[1];orig2=_this.state.info.endDate[0];}if(infoOrig==='--'||Number.isNaN(infoOrig)){infoOrig=new Date().getDate();}if(orig2==='--'||Number.isNaN(orig2)){orig2=new Date().getMonth()+1;}val=infoOrig+value;date=new Date();date.setMonth(orig2-1);date.setDate(val);date.setHours(0);date.setSeconds(0);date.setMilliseconds(0);var today=new Date();today.setDate(today.getDate()-1);today.setHours(0);today.setSeconds(0);today.setMilliseconds(0);if(date.getTime()===today.getTime()&&value<0){if(type==='start'){_this.setState({info:_objectSpread(_objectSpread({},_this.state.info),{},{startDate:['--','--']})});}else if(type==='end'){_this.setState({info:_objectSpread(_objectSpread({},_this.state.info),{},{endDate:['--','--']})});}return;}if(type==='start'){_this.setState({info:_objectSpread(_objectSpread({},_this.state.info),{},{startDate:[date.getMonth()+1,date.getDate()]})});}else if(type==='end'){_this.setState({info:_objectSpread(_objectSpread({},_this.state.info),{},{endDate:[date.getMonth()+1,date.getDate()]})});}}if(type==='start'&&!_this.state.info.startDate.includes('--')){_this.updateRiverDate(type,'add');}else if(type==='end'&&!_this.state.info.endDate.includes('--')){_this.updateRiverDate(type,'add');}}};var changeTime=function changeTime(ev){var changeTime=false;if(ev.screenY<pageY-change){pageY-=change;changeTime=-1;}else if(ev.screenY>pageY+change){pageY+=change;changeTime=1;}if(changeTime!==false){updateTime(ev,changeTime,unit);}};window.app.current.setState({disableSelect:'disable-select'});window.addEventListener('mousemove',changeTime);};_this.isComplete=function(){var completed=_this.state.info.complete;var parent=_this.props.parent;// hacking completed for repeats\nwhile(!parent instanceof List){parent=parent.props.parent;}if(_this.state.info.excludes.includes(parent.state.title)){completed='complete';}return completed;};_this.state={info:props.info,title:props.title,subtasks:props.subtasks.filter(function(x){return window.data.tasks[util.stripR(x)];}),parent:props.parent,id:props.id,displayOptions:'hide',riverTask:false,zoomed:'',minHeight:1};// TODO\nif(!_this.state.info.startDate)_this.state.info.startDate=['--','--'];if(!_this.state.info.endDate)_this.state.info.endDate=['--','--'];if(!_this.state.info.notes)_this.state.info.notes='';if(!_this.state.info.type){if(props.parent instanceof List&&util.getFrame(props.parent).props.id==='river'){_this.state.info.type='event';}else{_this.state.info.type='date';}};if(!_this.state.info.collapsed)_this.state.info.collapsed='';if(!_this.state.info.excludes)_this.state.info.excludes=[];return _this;}_createClass(Task,[{key:\"displayOptions\",value:function displayOptions(ev,showHide){edit.save(this);if(this.freeze===true)return;if(window.selected!==this){edit.selectTask(this);}if(this.editBar.current){this.editBar.current.focus();}if($(ev.target).hasClass('options')||$(ev.target).parent().hasClass('options')){return;}if(showHide==='hide'||this.state.displayOptions==='show'){this.setState({displayOptions:'hide'});if(this.props.parent instanceof List&&util.getFrame(this).props.id==='river'){this.props.parent.forceUpdate();}}else if(showHide==='show'||this.state.displayOptions==='hide'){this.setState({displayOptions:'show'});}}},{key:\"changeTitle\",value:function changeTitle(ev){this.setState({title:ev.target.value});this.updateHeight();}},{key:\"updateHeight\",value:function updateHeight(){var _this2=this;if(this.resizable!==false){this.editBar.current.style.height='0px';this.editBar.current.style.height=this.editBar.current.scrollHeight+\"px\";this.resizable=false;}setTimeout(function(){return _this2.resizable=true;},100);}},{key:\"updateRiverDate\",value:function updateRiverDate(type,action){var _this3=this;// remove from startdates/deadlines\nvar date=new Date();var deadlineData;if(type==='start'){if(this.state.info.startDate.includes('--'))return;deadlineData=window.app.current.state.startdates;date.setMonth(this.state.info.startDate[0]-1);date.setDate(this.state.info.startDate[1]);}else if(type==='end'){if(this.state.info.endDate.includes('--'))return;deadlineData=window.app.current.state.deadlines;date.setMonth(this.state.info.endDate[0]-1);date.setDate(this.state.info.endDate[1]);}var dateString=date.toDateString();if(action==='add'){if(!deadlineData[dateString]){deadlineData[dateString]=[this.props.id];}else{deadlineData[dateString].push(this.props.id);}}else if(action==='remove'){if(!deadlineData[dateString])return;else{deadlineData[dateString].splice(deadlineData[dateString].findIndex(function(x){return x===_this3.props.id;}),1);};}// add to the things\nif(type==='start'){window.app.current.setState({startdates:_objectSpread({},deadlineData)});edit.saveSetting('startdates',deadlineData);}else if(type==='end'){window.app.current.setState({deadlines:_objectSpread({},deadlineData)});edit.saveSetting('deadlines',deadlineData);}}},{key:\"toggleComplete\",value:function toggleComplete(change){var status=this.state.info.complete;if(status==='complete'){status='';if(this.state.info.type==='date'){this.updateRiverDate('start','add');this.updateRiverDate('end','add');}}else{status='complete';if(this.state.info.type==='date'){this.updateRiverDate('start','remove');this.updateRiverDate('end','remove');}display.playSound(window.app.current.state.popSnd);}// excludes lets it put it in complete\nvar repeats=window.app.current.state.river.current.state.repeats;var repeating=false;var parent=this.props.parent;/// find list it's in\nwhile(!parent instanceof List){parent=parent.props.parent;}var excludes=this.state.info.excludes;for(var _i2=0,_arr=['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];_i2<_arr.length;_i2++){var x=_arr[_i2];if(repeats[x].includes('R'+util.stripR(this.props.id))){repeating=true;if(!excludes.includes(parent.state.title)){excludes.push(parent.state.title);break;}else{excludes.splice(excludes.findIndex(function(x){return x===parent.state.title;}),1);break;}}}if(repeating===true){this.setState({info:_objectSpread(_objectSpread({},this.state.info),{},{excludes:excludes})});}else{this.setState(function(prevState){return{info:_objectSpread(_objectSpread({},prevState.info),{},{complete:status})};});}if(change!==false){this.displayOptions('hide');}}},{key:\"toggleImportant\",value:function toggleImportant(change){var status=this.state.info.important;if(status==='important'){status='';}else{status='important';}this.setState(function(prevState){return{info:_objectSpread(_objectSpread({},prevState.info),{},{important:status,maybe:''})};});if(change!==false){this.displayOptions('hide');}}},{key:\"toggleMaybe\",value:function toggleMaybe(change){var status=this.state.info.maybe;if(status==='maybe'){status='';}else{status='maybe';}this.setState(function(prevState){return{info:_objectSpread(_objectSpread({},prevState.info),{},{maybe:status,important:''})};});if(change!==false){this.displayOptions('hide');}}},{key:\"toggleCollapse\",value:function toggleCollapse(){var status=this.state.info.collapsed;if(status==='collapsed'){status='';}else{status='collapsed';}this.setState(function(prevState){return{info:_objectSpread(_objectSpread({},prevState.info),{},{collapsed:status})};});this.displayOptions('hide');}},{key:\"deleteThis\",value:function deleteThis(removeData){var _this4=this;if(this.hasRepeats()){var permission=window.confirm('This will delete all repeats.\\n(Complete task to hide only this one)');if(!permission){return;}}// TODO: remove deadline, repeat & startdate \n// [[don't use global variable]]\nvar parent=this.props.parent;while(parent.props.parent){parent=parent.props.parent;}var subtasks=this.state.parent.state.subtasks;var currentTask=subtasks.findIndex(function(x){return x===_this4.props.id;});subtasks.splice(currentTask,1);window.selected=this.state.parent;window.preventSelect=true;this.state.parent.setState({subtasks:subtasks});if(removeData!==false){this.updateRiverDate('start','remove');this.updateRiverDate('end','remove');this.toggleRepeat('all',true);delete window.data.tasks[util.stripR(this.props.id)];}setTimeout(function(){window.undoData=localStorage.getItem('data');window.preventSelect=false;edit.save(_this4.props.parent,'list');},200);}},{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;this.editBar.current.focus();setTimeout(function(){if(_this5.editBar.current)_this5.updateHeight();},50);edit.selectTask(this);this.resizable=true;}},{key:\"render\",value:function render(){var _this6=this;// fuck react\nthis.displayOptions=this.displayOptions.bind(this);this.toggleComplete=this.toggleComplete.bind(this);this.toggleImportant=this.toggleImportant.bind(this);this.toggleMaybe=this.toggleMaybe.bind(this);this.deleteThis=this.deleteThis.bind(this);this.updateHeight=this.updateHeight.bind(this);this.taskList=/*#__PURE__*/React.createRef();this.optionsButton=/*#__PURE__*/React.createRef();this.editBar=/*#__PURE__*/React.createRef();this.infoInput=/*#__PURE__*/React.createRef();this.infoArea=/*#__PURE__*/React.createRef();var headingClass=this.state.subtasks.length>0?'heading':'';if(this.editBar.current){this.editBar.current.style.height='0px';this.editBar.current.style.height=this.editBar.current.scrollHeight+\"px\";}var parent=this;var id=[];while(parent){id.push(parent.props.id);parent=parent.props.parent;}id=id.reverse().join('-');var hasTimes=this.state.info.type==='event'&&!this.state.info.startDate.includes('--');var repeatsOn={};for(var _i3=0,_arr2=['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];_i3<_arr2.length;_i3++){var day=_arr2[_i3];if(window.data.settings.repeats[day].map(function(x){return util.stripR(x);}).includes(util.stripR(this.props.id))){repeatsOn[day]='repeatOn';}else{repeatsOn[day]='';}}var completed=this.isComplete();var amPmFormat=function amPmFormat(hours){if(hours==='--')return hours;if(hours>12)return hours-12;else return hours;};var startExtra;var endExtra;if(this.state.info.type==='event'){// am/pm\nif(!this.state.info.startDate.includes('--')){if(this.state.info.startDate[0]>=12)startExtra='p';else startExtra='a';}}else{// date\nvar getWeekday=function getWeekday(list){var weekdaysDict={1:'M',2:'T',3:'W',4:'R',5:'F',6:'S',0:'U'};var date=new Date();date.setMonth(list[[0]]-1);date.setDate(list[1]);return weekdaysDict[date.getDay()];};if(!this.state.info.startDate.includes('--')){startExtra=getWeekday(this.state.info.startDate);}if(!this.state.info.endDate.includes('--')){endExtra=getWeekday(this.state.info.endDate);}}var listRender=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"infoArea\",ref:this.infoArea,onKeyDown:function onKeyDown(ev){if(ev.key==='Escape'){$(_this6.infoArea.current).hide();setTimeout(function(){return window.preventReturn=false;},100);}},onChange:function onChange(){_this6.setState({info:_objectSpread(_objectSpread({},_this6.state.info),{},{notes:_this6.infoArea.current.value})});},value:this.state.info.notes}),/*#__PURE__*/_jsxs(\"div\",{className:\"taskContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:'options '+this.state.displayOptions,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buttonBar\",style:{width:'100%',justifyContent:'space-around',flexWrap:'nowrap'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buttonBar\",children:[/*#__PURE__*/_jsx(\"button\",{className:'button '+this.state.info.complete,onClick:this.toggleComplete,children:\"\\u221A\"}),/*#__PURE__*/_jsx(\"button\",{className:'button '+this.state.info.important,onClick:this.toggleImportant,children:\"!\"}),/*#__PURE__*/_jsx(\"button\",{className:'button '+this.state.info.maybe,onClick:this.toggleMaybe,children:\"?\"}),/*#__PURE__*/_jsx(\"button\",{className:'button',onClick:this.deleteThis,children:\"x\"}),/*#__PURE__*/_jsx(\"button\",{className:'button',onClick:function onClick(){edit.newTask('task');_this6.displayOptions('hide');},children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{className:'button',onClick:function onClick(){return _this6.toggleCollapse();},children:'[]'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonBar\",children:[/*#__PURE__*/_jsx(\"button\",{className:'button '+repeatsOn['Mon'],onClick:function onClick(){_this6.toggleRepeat('Mon');},children:\"M\"}),/*#__PURE__*/_jsx(\"button\",{className:'button '+repeatsOn['Tue'],onClick:function onClick(){_this6.toggleRepeat('Tue');},children:\"T\"}),/*#__PURE__*/_jsx(\"button\",{className:'button '+repeatsOn['Wed'],onClick:function onClick(){_this6.toggleRepeat('Wed');},children:\"W\"}),/*#__PURE__*/_jsx(\"button\",{className:'button '+repeatsOn['Thu'],onClick:function onClick(){_this6.toggleRepeat('Thu');},children:\"R\"}),/*#__PURE__*/_jsx(\"button\",{className:'button '+repeatsOn['Fri'],onClick:function onClick(){_this6.toggleRepeat('Fri');},children:\"F\"}),/*#__PURE__*/_jsx(\"button\",{className:'button '+repeatsOn['Sat'],onClick:function onClick(){_this6.toggleRepeat('Sat');},children:\"S\"}),/*#__PURE__*/_jsx(\"button\",{className:'button '+repeatsOn['Sun'],onClick:function onClick(){_this6.toggleRepeat('Sun');},children:\"U\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeDiv buttonBar\",style:{flexWrap:'nowrap'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"button timeSwitch\",onClick:function onClick(){var changeValue=_this6.state.info.type==='event'?'date':'event';_this6.setState({info:_objectSpread(_objectSpread({},_this6.state.info),{},{type:changeValue,startDate:['--','--'],endDate:['--','--']})});},children:this.state.info.type}),/*#__PURE__*/_jsxs(\"span\",{className:\"startSpan start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"s\",onMouseDown:function onMouseDown(ev){_this6.timeDrag(ev,'s','start');},children:this.state.info.type==='event'?amPmFormat(this.state.info.startDate[0]):this.state.info.startDate[0]}),/*#__PURE__*/_jsx(\"span\",{className:\"m\",children:this.state.info.type==='event'?':':'/'}),/*#__PURE__*/_jsx(\"span\",{className:\"e\",onMouseDown:function onMouseDown(ev){_this6.timeDrag(ev,'e','start');},children:this.state.info.type==='event'?String(this.state.info.startDate[1]).padStart(2,0):this.state.info.startDate[1]}),startExtra&&/*#__PURE__*/_jsx(\"span\",{className:\"startSpan extraInfo\",children:startExtra})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"startSpan end\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"s\",onMouseDown:function onMouseDown(ev){_this6.timeDrag(ev,'s','end');},children:this.state.info.endDate[0]}),/*#__PURE__*/_jsx(\"span\",{className:\"m\",children:this.state.info.type==='event'?'h':'/'}),/*#__PURE__*/_jsx(\"span\",{className:\"e\",onMouseDown:function onMouseDown(ev){_this6.timeDrag(ev,'e','end');},children:this.state.info.endDate[1]}),/*#__PURE__*/_jsx(\"span\",{children:this.state.info.type==='event'?'m':''}),endExtra&&/*#__PURE__*/_jsx(\"span\",{className:\"startSpan extraInfo\",children:endExtra})]}),/*#__PURE__*/_jsx(\"input\",{ref:this.infoInput,className:\"infoSpan\",placeholder:\"notes\",style:{marginLeft:'5px'},value:this.state.info.notes,onChange:function onChange(){_this6.setState({info:_objectSpread(_objectSpread({},_this6.state.info),{},{notes:_this6.infoInput.current.value})});}}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){$(_this6.infoArea.current).show();window.preventReturn=true;},title:\"expand notes to paragraph\",children:\"+\"})]})]}),!hasTimes?/*#__PURE__*/_jsx(\"span\",{className:\"info\",onClick:function onClick(ev){return _this6.displayOptions(ev);},ref:this.optionsButton}):/*#__PURE__*/_jsx(\"span\",{className:\"startDate\",onMouseUp:function onMouseUp(ev){if(!_this6.freeze)_this6.displayOptions(ev);else _this6.freeze=false;},onMouseDown:function onMouseDown(ev){_this6.freeze=true;_this6.timeDrag(ev,'e','start');},ref:this.optionsButton,children:this.dateRender('start')}),/*#__PURE__*/_jsx(\"textarea\",{className:\"editBar\",value:this.state.title,onChange:function onChange(ev){return _this6.changeTitle(ev);},ref:this.editBar,spellCheck:\"false\",onClick:function onClick(ev){return _this6.displayOptions(ev,'hide');}}),this.state.info.notes.length===0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',marginRight:'5px'},children:[!hasTimes&&!this.state.info.startDate.includes('--')&&/*#__PURE__*/_jsx(\"span\",{className:\"startDate\",children:this.dateRender('start')}),!this.state.info.endDate.includes('--')&&/*#__PURE__*/_jsx(\"span\",{className:\"endDate\",children:this.dateRender('end')})]})]}),this.state.info.notes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"taskInfo\",children:[this.state.info.notes.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"notesSpan\",children:this.state.info.notes.length>50?this.state.info.notes.slice(0,50)+'...':this.state.info.notes}),!hasTimes&&!this.state.info.startDate.includes('--')&&/*#__PURE__*/_jsx(\"span\",{className:\"startDate\",children:this.dateRender('start')}),!this.state.info.endDate.includes('--')&&/*#__PURE__*/_jsx(\"span\",{className:\"endDate\",children:this.dateRender('end')})]}),/*#__PURE__*/_jsx(TaskList,{ref:this.taskList,subtasks:this.state.subtasks,parent:this})]});return/*#__PURE__*/_jsx(\"li\",{className:'task '+this.state.info.important+' '+completed+' '+this.state.info.maybe+' '+headingClass+' '+this.state.info.type+' '+this.state.info.collapsed+' '+this.state.zoomed,onClick:function onClick(){edit.selectTask(_this6);},onContextMenu:function onContextMenu(){return edit.selectTask(_this6);},style:{minHeight:this.state.minHeight*1.15*30},children:listRender});}}]);return Task;}(React.Component);export{Task as default};","map":{"version":3,"sources":["/Users/frederic/Documents/big-projects/2021-11-01_riverbank-2/riverbank-2/src/components/Task/Task.js"],"names":["React","$","display","edit","util","TaskList","List","Task","props","hasRepeats","repeating","Object","keys","window","data","settings","repeats","repeat","includes","stripR","id","dateRender","type","info","state","startDate","concat","endDate","end","String","padStart","string","toggleRepeat","dayInput","del","days","repeatId","charAt","app","current","river","day","splice","findIndex","x","push","setState","saveSetting","timeDrag","ev","unit","mouseup","removeEventListener","changeTime","disableSelect","displayOptions","freeze","setTimeout","parent","forceUpdate","addEventListener","change","pageY","screenY","updateTime","ev2","value","val","date","infoOrig","orig2","shiftKey","updateRiverDate","Number","isNaN","Date","getMonth","setMonth","getDate","setDate","setHours","setSeconds","setMilliseconds","today","getTime","isComplete","completed","complete","excludes","title","subtasks","filter","tasks","riverTask","zoomed","minHeight","notes","getFrame","collapsed","showHide","save","selected","selectTask","editBar","focus","target","hasClass","updateHeight","resizable","style","height","scrollHeight","action","deadlineData","startdates","deadlines","dateString","toDateString","status","playSound","popSnd","prevState","important","maybe","removeData","permission","confirm","currentTask","preventSelect","undoData","localStorage","getItem","bind","toggleComplete","toggleImportant","toggleMaybe","deleteThis","taskList","createRef","optionsButton","infoInput","infoArea","headingClass","length","reverse","join","hasTimes","repeatsOn","map","amPmFormat","hours","startExtra","endExtra","getWeekday","list","weekdaysDict","getDay","listRender","key","hide","preventReturn","width","justifyContent","flexWrap","newTask","toggleCollapse","changeValue","marginLeft","show","changeTitle","flexDirection","marginRight","slice","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Task.css';\nimport $ from 'jquery';\nimport * as display from '../../services/display/display';\nimport * as edit from '../../services/edit/edit';\nimport * as util from '../../services/util/util';\nimport TaskList from '../TaskList/TaskList';\nimport List from '../List/List';\n\nexport default class Task extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      info: props.info, title: props.title,\n      subtasks: props.subtasks.filter(x =>\n        window.data.tasks[util.stripR(x)]), parent: props.parent,\n      id: props.id, displayOptions: 'hide', riverTask: false,\n      zoomed: '', minHeight: 1\n    };\n    // TODO\n    if (!this.state.info.startDate) this.state.info.startDate = ['--', '--'];\n    if (!this.state.info.endDate) this.state.info.endDate = ['--', '--'];\n    if (!this.state.info.notes) this.state.info.notes = '';\n    if (!this.state.info.type) {\n      if (props.parent instanceof List &&\n        util.getFrame(props.parent).props.id === 'river') {\n        this.state.info.type = 'event';\n      } else {\n        this.state.info.type = 'date';\n      }\n    };\n    if (!this.state.info.collapsed) this.state.info.collapsed = '';\n    if (!this.state.info.excludes) this.state.info.excludes = [];\n  }\n  displayOptions(ev, showHide) {\n    edit.save(this);\n    if (this.freeze === true) return;\n    if (window.selected !== this) {\n      edit.selectTask(this);\n    }\n    if (this.editBar.current) {\n      this.editBar.current.focus();\n    }\n    if ($(ev.target).hasClass('options') ||\n      $(ev.target).parent().hasClass('options')) {\n      return\n    }\n    if (showHide === 'hide' || this.state.displayOptions === 'show') {\n      this.setState({ displayOptions: 'hide' });\n      if (\n        this.props.parent instanceof List && \n        util.getFrame(this).props.id === 'river'\n      ) {\n        this.props.parent.forceUpdate();\n      }\n    } else if (showHide === 'show' || this.state.displayOptions === 'hide') {\n      this.setState({ displayOptions: 'show' });\n    }\n  }\n  changeTitle(ev) {\n    this.setState({ title: ev.target.value });\n    this.updateHeight();\n  }\n  updateHeight() {\n    if (this.resizable !== false) {\n      this.editBar.current.style.height = '0px';\n      this.editBar.current.style.height =\n        (this.editBar.current.scrollHeight) + \"px\";\n      this.resizable = false;\n    }\n    setTimeout(() => this.resizable = true, 100);\n  }\n  updateRiverDate(type, action) {\n    // remove from startdates/deadlines\n    var date = new Date();\n    var deadlineData;\n    if (type === 'start') {\n      if (this.state.info.startDate.includes('--')) return;\n      deadlineData = window.app.current.state.startdates;\n      date.setMonth(this.state.info.startDate[0] - 1);\n      date.setDate(this.state.info.startDate[1]);\n    } else if (type === 'end') {\n      if (this.state.info.endDate.includes('--')) return;\n      deadlineData = window.app.current.state.deadlines;\n      date.setMonth(this.state.info.endDate[0] - 1);\n      date.setDate(this.state.info.endDate[1]);\n    }\n    var dateString = date.toDateString();\n    if (action === 'add') {\n      if (!deadlineData[dateString]) {\n        deadlineData[dateString] = [this.props.id]\n      }\n      else { deadlineData[dateString].push(this.props.id) }\n    } else if (action === 'remove') {\n      if (!deadlineData[dateString]) return\n      else {\n        deadlineData[dateString].splice(deadlineData[dateString].findIndex(\n          x => x === this.props.id), 1)\n      };\n    }\n    // add to the things\n    if (type === 'start') {\n      window.app.current.setState({ startdates: { ...deadlineData } });\n      edit.saveSetting('startdates', deadlineData);\n    } else if (type === 'end') {\n      window.app.current.setState({ deadlines: { ...deadlineData } });\n      edit.saveSetting('deadlines', deadlineData);\n    }\n  }\n  toggleComplete(change) {\n    let status = this.state.info.complete\n    if (status === 'complete') { \n      status = '';\n      if (this.state.info.type === 'date') {\n        this.updateRiverDate('start', 'add');\n        this.updateRiverDate('end', 'add');\n      }\n    }\n    else {\n      status = 'complete';\n      if (this.state.info.type === 'date') {\n        this.updateRiverDate('start', 'remove');\n        this.updateRiverDate('end', 'remove');\n      }\n      display.playSound(window.app.current.state.popSnd);\n    }\n    // excludes lets it put it in complete\n    const repeats = window.app.current.state.river.current.state.repeats;\n    let repeating = false;\n    let parent = this.props.parent; /// find list it's in\n    while (!parent instanceof List) {\n      parent = parent.props.parent;\n    }\n    const excludes = this.state.info.excludes;\n    for (let x of ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']) {\n      if (repeats[x].includes('R' + util.stripR(this.props.id))) {\n        repeating = true;\n        if (!excludes.includes(parent.state.title)) {\n          excludes.push(parent.state.title);\n          break;\n        } else {\n          excludes.splice(excludes\n            .findIndex(x => x === parent.state.title), 1);\n          break;\n        }\n      }\n    }\n    if (repeating === true) {\n      this.setState({ info: { ...this.state.info, excludes: excludes } })\n    } else {\n      this.setState(prevState => ({\n        info: { ...prevState.info, complete: status }\n      }));\n    }\n    if (change !== false) {\n      this.displayOptions('hide');\n    }\n  }\n  toggleImportant(change) {\n    let status = this.state.info.important\n    if (status === 'important') { status = '' }\n    else { status = 'important' }\n    this.setState(prevState => ({\n      info: { ...prevState.info, important: status, maybe: '' }\n    }));\n    if (change !== false) {\n      this.displayOptions('hide');\n    }\n  }\n  toggleMaybe(change) {\n    let status = this.state.info.maybe\n    if (status === 'maybe') { status = '' }\n    else { status = 'maybe' }\n    this.setState(prevState => ({\n      info: { ...prevState.info, maybe: status, important: '' }\n    }));\n    if (change !== false) {\n      this.displayOptions('hide');\n    }\n  }\n  toggleCollapse() {\n    let status = this.state.info.collapsed\n    if (status === 'collapsed') { status = '' }\n    else { status = 'collapsed' }\n    this.setState(prevState => ({\n      info: { ...prevState.info, collapsed: status }\n    }));\n    this.displayOptions('hide');\n  }\n  hasRepeats = () => {\n    let repeating = false;\n    for (let repeat of Object.keys(window.data.settings.repeats)) {\n      if (window.data.settings.repeats[repeat].includes('R' +\n        util.stripR(this.props.id))) {\n        repeating = true;\n        break;\n      }\n    }\n    return repeating;\n  }\n  deleteThis(removeData) {\n    if (this.hasRepeats()) {\n      const permission = window.confirm(\n        'This will delete all repeats.\\n(Complete task to hide only this one)');\n      if (!permission) { return; }\n    }\n    // TODO: remove deadline, repeat & startdate \n    // [[don't use global variable]]\n    let parent = this.props.parent;\n    while (parent.props.parent) {\n      parent = parent.props.parent;\n    }\n    const subtasks = this.state.parent.state.subtasks;\n    const currentTask = subtasks.findIndex(x => x === this.props.id);\n    subtasks.splice(currentTask, 1);\n    window.selected = this.state.parent;\n    window.preventSelect = true;\n    this.state.parent.setState({ subtasks: subtasks });\n    if (removeData !== false) {\n      this.updateRiverDate('start', 'remove');\n      this.updateRiverDate('end', 'remove');\n      this.toggleRepeat('all', true);\n      delete window.data.tasks[util.stripR(this.props.id)];\n    }\n    setTimeout(() => {\n      window.undoData = localStorage.getItem('data');\n      window.preventSelect = false\n      edit.save(this.props.parent, 'list');\n    }, 200);\n  }\n  componentDidMount() {\n    this.editBar.current.focus();\n    setTimeout(\n      () => {\n        if (this.editBar.current) this.updateHeight();\n      }, 50\n    )\n    edit.selectTask(this);\n    this.resizable = true;\n  }\n  dateRender = (type) => {\n    var info;\n    if (type === 'start') {\n      info = this.state.info.startDate.concat();\n    } else if (type === 'end') {\n      info = this.state.info.endDate.concat();\n    }\n    if (this.state.info.type === 'event') {\n      if (type === 'start') {\n        let end;\n        if (info[0] >= 12) end = 'p';\n        else end = 'a';\n        if (info[0] > 12) { info[0] -= 12 }\n        return info[0] + ':' + String(info[1]).padStart(2, 0) + end;\n      } else if (type === 'end') {\n        let string = '';\n        if (info[0] !== 0) string += info[0] + 'h';\n        if (info[1] !== 0) string += info[1] + 'm';\n        return string;\n      }\n    } else if (this.state.info.type === 'date') {\n      return info[0] + '-' + info[1];\n    }\n  }\n  toggleRepeat = (dayInput, del) => {\n    var days;\n    if (dayInput === 'all') {\n      days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n    } else {\n      days = [dayInput];\n    }\n    let repeatId;\n    if (this.props.id.charAt(0) === 'R') {\n      repeatId = this.props.id;\n    } else {\n      repeatId = 'R' + this.props.id;\n    }\n    const repeats = { ...window.app.current.state.river.current.state.repeats };\n    for (let day of days) {\n      if (repeats[day].includes(repeatId) || del === true) {\n        if (repeats[day].includes(repeatId)) {\n          repeats[day].splice(repeats[day]\n            .findIndex(x => x === repeatId), 1);\n        }\n      } else {\n        repeats[day].push(repeatId);\n      }\n    }\n    window.app.current.state.river.current.setState({\n      repeats: repeats\n    });\n    edit.saveSetting('repeats', repeats);\n  }\n  timeDrag = (ev, unit, type) => {\n    var mouseup = () => {\n      window.removeEventListener('mousemove', changeTime);\n      window.app.current.setState({ disableSelect: '' });\n      if (unit === 'e' || this.state.info.type === 'event') {\n        this.displayOptions('hide');\n      } else if (unit === 's') {\n        this.setState({ displayOptions: 'show' });\n      } \n      this.freeze = true;\n      setTimeout(() => this.freeze = false, 200);\n      window.removeEventListener('mouseup', mouseup);\n      this.props.parent.forceUpdate();\n    }\n    window.addEventListener('mouseup', mouseup);\n    var change = 10;\n    var pageY = ev.screenY;\n    var updateTime = (ev2, value, unit) => {\n      let val;\n      let date;\n      let infoOrig;\n      let orig2;\n      if (this.state.info.type === 'event') {\n        if (type === 'start') {\n          infoOrig = this.state.info.startDate[1];\n          orig2 = this.state.info.startDate[0];\n        } else if (type === 'end') {\n          infoOrig = this.state.info.endDate[1];\n          orig2 = this.state.info.endDate[0];\n        }\n        if (infoOrig === '--') {\n          infoOrig = 0;\n        }\n        if (orig2 === '--') {\n          orig2 = 0;\n        }\n        let change;\n        if (ev2.shiftKey) {\n          change = value * 5;\n        } else {\n          change = value * 30;\n        }\n        val = infoOrig + change;\n        if (val >= 60) {\n          val = 0;\n          orig2 += 1;\n        } else if (val < 0) {\n          val = 60 + change;\n          orig2 -= 1;\n        }\n        if (orig2 >= 24 || orig2 < 0) {\n          val = '--';\n          orig2 = '--';\n          window.removeEventListener('mousemove', changeTime);\n        }\n        if (type === 'start') {\n          this.setState({\n            info: {\n              ...this.state.info,\n              startDate: [orig2, val]\n            }\n          });\n        } else if (type === 'end') {\n          this.setState({\n            info: {\n              ...this.state.info,\n              endDate: [orig2, val]\n            }\n          });\n        }\n      } else {\n        // dates\n        this.updateRiverDate(type, 'remove');\n        if (unit === 's') {\n          if (type === 'start') {\n            infoOrig = this.state.info.startDate[0];\n            orig2 = this.state.info.startDate[1];\n          } else if (type === 'end') {\n            infoOrig = this.state.info.endDate[0];\n            orig2 = this.state.info.endDate[1];\n          }\n          if (infoOrig === '--' || Number.isNaN(infoOrig)) {\n            infoOrig = new Date().getMonth() + 1;\n          }\n          if (orig2 === '--' || Number.isNaN(orig2)) {\n            orig2 = 1;\n          }\n          val = infoOrig + value;\n          if (val === new Date().getMonth() && value < 0) {\n            val = '--';\n            orig2 = '--';\n          } else {\n            date = new Date();\n            date.setMonth(val - 1);\n            val = date.getMonth() + 1;\n          }\n          if (type === 'start') {\n            this.setState({\n              info: {\n                ...this.state.info,\n                startDate: [val, orig2]\n              }\n            });\n          } else if (type === 'end') {\n            this.setState({\n              info: {\n                ...this.state.info,\n                endDate: [val, orig2]\n              }\n            });\n          }\n        } else if (unit === 'e') {\n          if (type === 'start') {\n            infoOrig = this.state.info.startDate[1];\n            orig2 = this.state.info.startDate[0];\n          } else if (type === 'end') {\n            infoOrig = this.state.info.endDate[1];\n            orig2 = this.state.info.endDate[0];\n          }\n          if (infoOrig === '--' || Number.isNaN(infoOrig)) {\n            infoOrig = new Date().getDate();\n          }\n          if (orig2 === '--' || Number.isNaN(orig2)) {\n            orig2 = new Date().getMonth() + 1;\n          }\n          val = infoOrig + value;\n          date = new Date();\n          date.setMonth(orig2 - 1);\n          date.setDate(val);\n          date.setHours(0); date.setSeconds(0); date.setMilliseconds(0);\n          const today = new Date();\n          today.setDate(today.getDate() - 1);\n          today.setHours(0); today.setSeconds(0); today.setMilliseconds(0);\n          if (date.getTime() === today.getTime() && value < 0) {\n            if (type === 'start') {\n              this.setState({\n                info: {\n                  ...this.state.info,\n                  startDate: ['--', '--']\n                }\n              });\n            } else if (type === 'end') {\n              this.setState({\n                info: {\n                  ...this.state.info,\n                  endDate: ['--', '--']\n                }\n              });\n            }\n            return;\n          }\n          if (type === 'start') {\n            this.setState({\n              info: {\n                ...this.state.info,\n                startDate: [date.getMonth() + 1, date.getDate()]\n              }\n            });\n          } else if (type === 'end') {\n            this.setState({\n              info: {\n                ...this.state.info,\n                endDate: [date.getMonth() + 1, date.getDate()]\n              }\n            });\n          }\n        }\n        if (type === 'start' && !this.state.info.startDate.includes('--')) {\n          this.updateRiverDate(type, 'add');\n        } else if (type === 'end' && !this.state.info.endDate.includes('--')) {\n          this.updateRiverDate(type, 'add');\n        }\n      }\n    }\n    var changeTime = (ev) => {\n      var changeTime = false;\n      if (ev.screenY < pageY - change) {\n        pageY -= change;\n        changeTime = -1;\n      } else if (ev.screenY > pageY + change) {\n        pageY += change;\n        changeTime = 1;\n      }\n      if (changeTime !== false) {\n        updateTime(ev, changeTime, unit);\n      }\n    }\n    window.app.current.setState({ disableSelect: 'disable-select' });\n    window.addEventListener('mousemove', changeTime);\n  }\n  isComplete = () => {\n    let completed = this.state.info.complete;\n    let parent = this.props.parent;\n    // hacking completed for repeats\n    while (!parent instanceof List) {\n      parent = parent.props.parent;\n    }\n    if (this.state.info.excludes.includes(parent.state.title)) {\n      completed = 'complete';\n    }\n    return completed;\n  }\n  render() {\n    // fuck react\n    this.displayOptions = this.displayOptions.bind(this);\n    this.toggleComplete = this.toggleComplete.bind(this);\n    this.toggleImportant = this.toggleImportant.bind(this);\n    this.toggleMaybe = this.toggleMaybe.bind(this);\n    this.deleteThis = this.deleteThis.bind(this);\n    this.updateHeight = this.updateHeight.bind(this);\n    this.taskList = React.createRef();\n    this.optionsButton = React.createRef();\n    this.editBar = React.createRef();\n    this.infoInput = React.createRef();\n    this.infoArea = React.createRef();\n    const headingClass = this.state.subtasks.length > 0 ?\n      'heading' : '';\n    if (this.editBar.current) {\n      this.editBar.current.style.height = '0px';\n      this.editBar.current.style.height =\n        (this.editBar.current.scrollHeight) + \"px\";\n    }\n    let parent = this;\n    let id = [];\n    while (parent) {\n      id.push(parent.props.id);\n      parent = parent.props.parent;\n    }\n    id = id.reverse().join('-');\n    const hasTimes = this.state.info.type === 'event' &&\n      !this.state.info.startDate.includes('--');\n    let repeatsOn = {};\n    for (let day of ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']) {\n      if (window.data.settings.repeats[day].map(x => util.stripR(x)).includes(\n        util.stripR(this.props.id))) {\n        repeatsOn[day] = 'repeatOn';\n      } else {\n        repeatsOn[day] = '';\n      }\n    }\n    let completed = this.isComplete();\n    const amPmFormat = (hours) => {\n      if (hours === '--') return hours;\n      if (hours > 12) return hours - 12;\n      else return hours;\n    }\n    let startExtra;\n    let endExtra;\n    if (this.state.info.type === 'event') {\n      // am/pm\n      if (!this.state.info.startDate.includes('--')) {\n        if (this.state.info.startDate[0] >= 12) startExtra = 'p';\n        else startExtra = 'a';\n      }\n    }\n    else {\n      // date\n      const getWeekday = (list) => {\n        const weekdaysDict = {\n          1: 'M', 2: 'T', 3: 'W', 4: 'R', 5: 'F', 6: 'S', 0: 'U'\n        };\n        const date = new Date();\n        date.setMonth(list[[0]] - 1);\n        date.setDate(list[1]);\n        return weekdaysDict[date.getDay()];\n      }\n      if (!this.state.info.startDate.includes('--')) {\n        startExtra = getWeekday(this.state.info.startDate);\n      }\n      if (!this.state.info.endDate.includes('--')) {\n        endExtra = getWeekday(this.state.info.endDate);\n      }\n    } \n    const listRender = <>\n      <textarea className='infoArea' \n        ref={this.infoArea}\n        onKeyDown={(ev) => {\n          if (ev.key === 'Escape') {\n            $(this.infoArea.current).hide();\n            setTimeout(() => window.preventReturn = false, 100);\n          }\n        }}\n        onChange={() => {\n          this.setState({\n            info: {\n              ...this.state.info,\n              notes: this.infoArea.current.value\n            }\n          })\n        }}\n        value={this.state.info.notes}></textarea>\n      <div className='taskContent'>\n      <div className={'options ' + this.state.displayOptions}>\n          <div className='buttonBar' style={{\n            width: '100%',\n            justifyContent: 'space-around',\n            flexWrap: 'nowrap',\n          }}>\n            <div className='buttonBar'>\n              <button\n                className={'button ' + this.state.info.complete}\n                onClick={this.toggleComplete}>\n                </button>\n              <button\n                className={'button ' + this.state.info.important}\n                onClick={this.toggleImportant}>\n                !</button>\n              <button\n                className={'button ' + this.state.info.maybe}\n                onClick={this.toggleMaybe}>\n                ?</button>\n              <button\n                className={'button'}\n                onClick={this.deleteThis}>\n                x</button>\n              <button\n                className={'button'}\n                onClick={() => {\n                  edit.newTask('task');\n                  this.displayOptions('hide');\n                }}>\n                +</button>\n              <button\n                className={'button'}\n                onClick={() => this.toggleCollapse()}>\n                {'[]'}</button>\n            </div>\n            <div className='buttonBar'>\n              <button className={'button ' + repeatsOn['Mon']}\n                onClick={() => { this.toggleRepeat('Mon'); }}>M</button>\n              <button className={'button ' + repeatsOn['Tue']}\n                onClick={() => {\n                  this.toggleRepeat('Tue');\n                }}>T</button>\n              <button className={'button ' + repeatsOn['Wed']}\n                onClick={() => {\n                  this.toggleRepeat('Wed');\n                }}>W</button>\n              <button className={'button ' + repeatsOn['Thu']}\n                onClick={() => {\n                  this.toggleRepeat('Thu');\n                }}>R</button>\n              <button className={'button ' + repeatsOn['Fri']}\n                onClick={() => {\n                  this.toggleRepeat('Fri');\n                }}>F</button>\n              <button className={'button ' + repeatsOn['Sat']}\n                onClick={() => {\n                  this.toggleRepeat('Sat');\n                }}>S</button>\n              <button className={'button ' + repeatsOn['Sun']}\n                onClick={() => {\n                  this.toggleRepeat('Sun');\n                }}>U</button>\n            </div>\n          </div>\n          <div className='timeDiv buttonBar' style={{\n            flexWrap: 'nowrap',\n          }}>\n            <button className='button timeSwitch'\n              onClick={() => {\n                var changeValue = this.state.info.type === 'event' ?\n                  'date' : 'event';\n                this.setState({\n                  info: {\n                    ...this.state.info,\n                    type: changeValue,\n                    startDate: ['--', '--'],\n                    endDate: ['--', '--'],\n                  }\n                })\n              }}>\n              {this.state.info.type}\n            </button>\n            <span className='startSpan start'>\n              <span className='s' onMouseDown={(ev) => {\n                this.timeDrag(ev, 's', 'start');\n              }}>{\n                this.state.info.type === 'event' ?\n                  amPmFormat(this.state.info.startDate[0]) :\n                  this.state.info.startDate[0]\n              }</span>\n              <span className='m'>{\n                this.state.info.type === 'event' ? ':' : '/'\n              }</span>\n              <span \n                className='e' \n                onMouseDown={(ev) => {\n                  this.timeDrag(ev, 'e', 'start');\n                }}\n              >\n                {this.state.info.type === 'event' ?\n                  String(this.state.info.startDate[1]).padStart(2, 0) :\n                  this.state.info.startDate[1]\n                }\n              </span>\n              {startExtra && \n              <span className='startSpan extraInfo'>\n                {startExtra}\n              </span>}\n            </span>\n            <span className='startSpan end'>\n              <span className='s' onMouseDown={(ev) => {\n                this.timeDrag(ev, 's', 'end');\n              }}>{this.state.info.endDate[0]}</span>\n              <span className='m'>{\n                this.state.info.type === 'event' ? 'h' : '/'\n              }</span>\n              <span className='e' onMouseDown={(ev) => {\n                this.timeDrag(ev, 'e', 'end');\n              }}>{this.state.info.endDate[1]}</span>\n              <span>{this.state.info.type === 'event' ?\n                'm' : ''}</span>\n              {endExtra && \n              <span className='startSpan extraInfo'>\n                {endExtra}\n              </span>}\n            </span>\n            <input ref={this.infoInput} className='infoSpan' placeholder='notes'\n              style={{ marginLeft: '5px' }}\n              value={this.state.info.notes}\n              onChange={() => {\n                this.setState({\n                  info: {\n                    ...this.state.info,\n                    notes: this.infoInput.current.value\n                  }\n                })\n              }}></input>\n            <button className='button' onClick={() => {\n              $(this.infoArea.current).show();\n              window.preventReturn = true;\n            }} title='expand notes to paragraph'>+</button>\n          </div>\n        </div>\n        {!hasTimes ? \n          <span className='info'\n            onClick={(ev) => this.displayOptions(ev)}\n            ref={this.optionsButton}>\n          </span> :\n          <span className='startDate'\n            onMouseUp={(ev) => {\n              if (!this.freeze) this.displayOptions(ev);\n              else this.freeze = false;\n            }}\n            onMouseDown={(ev) => {\n              this.freeze = true;\n              this.timeDrag(ev, 'e', 'start');\n            }}\n            ref={this.optionsButton}>\n            {this.dateRender('start')}\n          </span>}\n        <textarea className='editBar' value={this.state.title}\n          onChange={(ev) => this.changeTitle(ev)} ref={this.editBar}\n          spellCheck='false' onClick={(ev) => this.displayOptions(ev, 'hide')}></textarea>\n        {this.state.info.notes.length === 0 &&\n          <div style={{\n            display: 'flex', flexDirection: 'column',\n            marginRight: '5px'\n          }}>\n            {!hasTimes &&\n              !this.state.info.startDate.includes('--') &&\n              <span className='startDate'>\n                {this.dateRender('start')}\n              </span>}\n            {!this.state.info.endDate.includes('--') &&\n              <span className='endDate'>\n                {this.dateRender('end')}\n              </span>}\n          </div>\n        }\n      </div>\n      {this.state.info.notes.length > 0 &&\n        <div className='taskInfo'>\n          {this.state.info.notes.length > 0 &&\n            <span className='notesSpan'>\n              {this.state.info.notes.length > 50 ?\n                this.state.info.notes.slice(0, 50) + '...' :\n                this.state.info.notes}\n            </span>}\n          {!hasTimes &&\n            !this.state.info.startDate.includes('--') &&\n            <span className='startDate'>\n              {this.dateRender('start')}\n            </span>}\n          {!this.state.info.endDate.includes('--') &&\n            <span className='endDate'>\n              {this.dateRender('end')}\n            </span>}\n        </div>\n      }\n      <TaskList ref={this.taskList} subtasks={this.state.subtasks}\n        parent={this} />\n    </>\n    return (\n      <li className={'task ' + this.state.info.important +\n        ' ' + completed +\n        ' ' + this.state.info.maybe +\n        ' ' + headingClass +\n        ' ' + this.state.info.type +\n        ' ' + this.state.info.collapsed +\n        ' ' + this.state.zoomed}\n        onClick={() => { edit.selectTask(this) }} \n        onContextMenu={() => edit.selectTask(this) }\n        style={{minHeight: this.state.minHeight * 1.15 * 30}}>\n        {listRender}\n      </li>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}